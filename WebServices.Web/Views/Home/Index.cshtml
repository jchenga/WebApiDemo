@using WebServices.Web.Models

@model IEnumerable<Reservation>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Scripts
{
   
    <script>
        angular.module("reservationApp", ["ngResource"]);

    </script>
     <script src="~/AngularJS/controllers/reservationControllers.js"></script>
}

@section Body
{
    <div id="summary" class="section panel panel-primary" ng-controller="reservationCtrl">
        <div class="panel-heading">Reservation Summary</div>
        <div class="panel-body">
            <table class="table table-striped table-condensed">
                <thead>
                    <tr><th>ID</th><th>Name</th><th>Location</th><th></th></tr>
                </thead>
                <tbody>
                    <tr ng-repeat="res in reservations">
                        <td>{{res.ReservationId}}</td>
                        <td>{{res.ClientName}}</td>
                        <td>{{res.Location}}</td>
                        <td>
                            <button class="btn btn-xs btn-primary"
                                   ng-click="deleteReservation(res)">Remove</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <div id="editor" class="section panel panel-primary">
       <div class="panel-heading">
            Create Reservation
        </div>
        <div class="panel-body" ng-controller="reservationCtrl">
            <div class="form-group">
                <label>Client Name</label>
                <input class="form-control" ng-model="newReservation.ClientName" />
            </div>
            <div class="form-group">
                <label>Location</label>
                <input class="form-control" ng-model="newReservation.Location"  />
            </div>
            <button class="btn btn-primary"
                ng-click="createReservation(newReservation)">Save</button>
        </div>
    </div>
}

